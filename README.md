# Начинаем писать сканнер

[The File](scanner.py)

## Ожидаемый функционал

- поиск хостов с ping sweep
- отправка http запросов

Пример http запроса:

```bash
python3 scanner.py sendhttp -t https://google.com -m GET -hd Accept-Language:ru
```

- scanner.py — название файла с кодом утилиты;
- sendhttp — название задачи, которую требуется решить
-   (в данном случае это отправка HTTP-запросов,
-   также есть задание scan, которое осуществляет сканирование сети);
- -t — аргумент, который указывается для задания цели для отправки HTTP-запроса;
- -m — аргумент, который указывается для задания типа запроса (POST или GET);
- -hd — аргумент, который указывается для задания заголовков.

Пример поиска хостов

```bash
python3 scanner.py scan -i 10.0.0.1 -n 3
```

![](ping-sweep.png)

## Сделано сверх этого

- отдебажен заданный ping sweep --- команда не работала на MacOS и Linux, теперь работает. Понадобилось определять, на какой ОС скрипт запущен
- логирование [хэдэра](headers.json), [респонса](response.html) и [статуса](status.txt) последнего выполненного http запроса
- функции из [scanner.py](scanner.py) можно импортировать, не запуская скрипт
- успешно проверил на винде, маке и линуксе

## Что не проверено

- не добавлял проверку и доустановку при необходимости библиотеки `requests`
- не решал проблему производительности (думаю можно распараллелить на несколько потоков ping sweep)